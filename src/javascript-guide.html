<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript技术详解 - 刀仔的学习网站</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <style>
        .article-container { max-width: 800px; margin: 0 auto; padding: 80px 20px; }
        .article-header { margin-bottom: 40px; }
        .article-meta { display: flex; align-items: center; gap: 16px; margin-bottom: 16px; }
        .article-tag { display: inline-block; padding: 4px 12px; background: var(--color-primary); color: white; font-size: 14px; font-weight: 600; border-radius: 20px; }
        .article-date { font-size: 14px; color: var(--color-text-tertiary); }
        .article-title { font-family: var(--font-family-heading); font-size: 48px; font-weight: 700; line-height: 1.2; color: var(--color-text); margin-bottom: 24px; }
        .article-excerpt { font-size: 20px; color: var(--color-text-secondary); line-height: 1.6; }
        .article-content { font-size: 18px; line-height: 1.8; color: var(--color-text); }
        .article-content h2 { font-family: var(--font-family-heading); font-size: 32px; font-weight: 700; margin: 48px 0 24px; color: var(--color-text); border-bottom: 2px solid var(--color-border); padding-bottom: 12px; }
        .article-content h3 { font-size: 24px; font-weight: 600; margin: 32px 0 16px; color: var(--color-text); }
        .article-content p { margin-bottom: 24px; }
        .article-content ul, .article-content ol { margin: 24px 0; padding-left: 32px; }
        .article-content li { margin-bottom: 12px; }
        .article-content code { font-family: 'Courier New', monospace; background: var(--color-bg-tertiary); padding: 2px 6px; border-radius: 4px; font-size: 16px; }
        .article-content pre { background: var(--color-bg-tertiary); padding: 20px; border-radius: 12px; overflow-x: auto; margin: 24px 0; }
        .article-content pre code { background: none; padding: 0; font-size: 14px; }
        .article-content blockquote { border-left: 4px solid var(--color-primary); padding-left: 20px; margin: 24px 0; color: var(--color-text-secondary); font-style: italic; }
        .back-link { display: inline-flex; align-items: center; gap: 8px; color: var(--color-text-secondary); text-decoration: none; font-weight: 500; transition: color 0.3s ease; margin-bottom: 32px; }
        .back-link:hover { color: var(--color-primary); }
        @media (max-width: 768px) {
            .article-container { padding: 40px 16px; }
            .article-title { font-size: 32px; }
            .article-content { font-size: 16px; }
            .article-content h2 { font-size: 24px; }
            .article-content h3 { font-size: 20px; }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav__container">
                <a href="../index.html" class="nav__logo"><span class="nav__logo-text">刀仔的学习网站</span></a>
                <ul class="nav__menu">
                    <li class="nav__item"><a href="../index.html#home" class="nav__link">首页</a></li>
                    <li class="nav__item"><a href="../index.html#articles" class="nav__link nav__link--active">文章</a></li>
                    <li class="nav__item"><a href="../index.html#about" class="nav__link">关于</a></li>
                    <li class="nav__item"><a href="../index.html#contact" class="nav__link">联系</a></li>
                </ul>
                <div class="nav__actions">
                    <button class="theme-toggle" aria-label="切换主题" data-theme-toggle>
                        <span class="theme-toggle__icon theme-toggle__icon--sun"><span class="iconify" data-icon="ph:sun-bold"></span></span>
                        <span class="theme-toggle__icon theme-toggle__icon--moon"><span class="iconify" data-icon="ph:moon-bold"></span></span>
                    </button>
                    <button class="nav__toggle" aria-label="切换菜单" data-nav-toggle><span class="iconify" data-icon="ph:list-bold"></span></button>
                </div>
            </div>
        </nav>
    </header>
    <main class="article-container">
        <a href="../index.html#articles" class="back-link"><span class="iconify" data-icon="ph:arrow-left-bold"></span>返回文章列表</a>
        <article>
            <header class="article-header">
                <div class="article-meta"><span class="article-tag">前端技术</span><time class="article-date" datetime="2026-01-15">2026年1月15日</time></div>
                <h1 class="article-title">JavaScript技术详解</h1>
                <p class="article-excerpt">JavaScript是Web开发的核心语言，本文将深入解析JavaScript的核心概念、ES6+特性、异步编程和最佳实践。</p>
            </header>
            <div class="article-content">
                <h2>JavaScript概述</h2>
                <p>JavaScript是一种轻量级的、解释型的编程语言，最初是为了在网页上添加交互功能而创建的。现在JavaScript已经发展成为一门功能强大的语言，可以用于前端、后端、移动应用等多个领域。</p>
                
                <h2>ES6+核心特性</h2>
                
                <h3>1. let和const</h3>
                <pre><code>// var的问题
var name = '张三';
if (true) {
    var name = '李四';
}
console.log(name); // 李四 - var没有块级作用域

// let - 块级作用域
let age = 25;
if (true) {
    let age = 30;
}
console.log(age); // 25

// const - 常量
const PI = 3.14159;
// PI = 3.14; // 错误：const不能重新赋值</code></pre>
                
                <h3>2. 箭头函数</h3>
                <pre><code>// 传统函数
function add(a, b) {
    return a + b;
}

// 箭头函数
const add = (a, b) => a + b;

// 单参数省略括号
const square = x => x * x;

// 多行语句需要大括号
const calculate = (a, b) => {
    const sum = a + b;
    const product = a * b;
    return { sum, product };
};

// 箭头函数没有自己的this
const obj = {
    value: 42,
    getValue: () => this.value, // undefined
    getValue() { return this.value; } // 42
};</code></pre>
                
                <h3>3. 模板字符串</h3>
                <pre><code>const name = '张三';
const age = 25;

// 模板字符串
const message = `我是${name}，今年${age}岁`;

// 多行字符串
const html = `
    &lt;div class="card"&gt;
        &lt;h2&gt;${name}&lt;/h2&gt;
        &lt;p&gt;年龄：${age}&lt;/p&gt;
    &lt;/div&gt;
`;

// 表达式
const result = `计算结果：${2 + 3 * 4}`;</code></pre>
                
                <h3>4. 解构赋值</h3>
                <pre><code>// 数组解构
const [a, b, c] = [1, 2, 3];
const [first, second, ...rest] = [1, 2, 3, 4, 5];

// 对象解构
const user = { name: '张三', age: 25, city: '北京' };
const { name, age, city } = user;

// 重命名
const { name: userName, age: userAge } = user;

// 默认值
const { name = '匿名' } = {};

// 函数参数解构
function greet({ name, age = 0 }) {
    return `你好，${name}，你${age}岁了`;
}
greet({ name: '张三' });</code></pre>
                
                <h3>5. 扩展运算符</h3>
                <pre><code>// 数组扩展
const arr1 = [1, 2, 3];
const arr2 = [4, 5, 6];
const combined = [...arr1, ...arr2]; // [1, 2, 3, 4, 5, 6]

// 对象扩展
const obj1 = { name: '张三' };
const obj2 = { age: 25 };
const combined = { ...obj1, ...obj2 }; // { name: '张三', age: 25 }

// 数组拷贝
const copy = [...arr1];

// 函数参数
function sum(...numbers) {
    return numbers.reduce((acc, num) => acc + num, 0);
}
sum(1, 2, 3, 4, 5); // 15</code></pre>
                
                <h3>6. Promise和async/await</h3>
                <pre><code>// Promise
function fetchData() {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            resolve('数据加载成功');
        }, 1000);
    });
}

fetchData()
    .then(data => console.log(data))
    .catch(error => console.error(error));

// async/await
async function getData() {
    try {
        const data = await fetchData();
        console.log(data);
    } catch (error) {
        console.error(error);
    }
}

// 并行执行
async function fetchAll() {
    const [data1, data2, data3] = await Promise.all([
        fetchData(),
        fetchData(),
        fetchData()
    ]);
    return [data1, data2, data3];
}</code></pre>
                
                <h3>7. 类（Class）</h3>
                <pre><code>// 类定义
class Person {
    constructor(name, age) {
        this.name = name;
        this.age = age;
    }
    
    greet() {
        return `你好，我是${this.name}`;
    }
    
    static createDefault() {
        return new Person('匿名', 0);
    }
}

// 继承
class Student extends Person {
    constructor(name, age, grade) {
        super(name, age);
        this.grade = grade;
    }
    
    study() {
        return `${this.name}正在学习`;
    }
    
    // 重写方法
    greet() {
        return `${super.greet()}，我是学生`;
    }
}

const student = new Student('张三', 20, '大二');
console.log(student.greet()); // 你好，我是张三，我是学生
console.log(student.study()); // 张三正在学习</code></pre>
                
                <h3>8. 模块化</h3>
                <pre><code>// 导出（utils.js）
export const add = (a, b) => a + b;
export const multiply = (a, b) => a * b;

export default class Calculator {
    add(a, b) { return a + b; }
    multiply(a, b) { return a * b; }
}

// 导入（app.js）
import Calculator, { add, multiply } from './utils.js';

const calc = new Calculator();
console.log(calc.add(2, 3)); // 5
console.log(add(5, 6)); // 11</code></pre>
                
                <h2>异步编程</h2>
                
                <h3>1. Promise链</h3>
                <pre><code>fetch('https://api.example.com/data')
    .then(response => response.json())
    .then(data => {
        console.log('数据:', data);
        return processData(data);
    })
    .then(processedData => {
        return saveData(processedData);
    })
    .then(result => {
        console.log('保存成功:', result);
    })
    .catch(error => {
        console.error('错误:', error);
    });</code></pre>
                
                <h3>2. async/await</h3>
                <pre><code>async function handleData() {
    try {
        const response = await fetch('https://api.example.com/data');
        const data = await response.json();
        const processed = await processData(data);
        const result = await saveData(processed);
        console.log('保存成功:', result);
    } catch (error) {
        console.error('错误:', error);
    }
}</code></pre>
                
                <h3>3. 并发控制</h3>
                <pre><code>// 并发执行
async function fetchAllUrls(urls) {
    const promises = urls.map(url => fetch(url));
    const responses = await Promise.all(promises);
    const data = await Promise.all(responses.map(r => r.json()));
    return data;
}

// 限制并发数
async function fetchWithLimit(urls, limit = 3) {
    const results = [];
    const executing = [];
    
    for (const url of urls) {
        const promise = fetch(url).then(r => r.json()).then(data => {
            results.push(data);
            executing.splice(executing.indexOf(promise), 1);
        });
        
        executing.push(promise);
        
        if (executing.length >= limit) {
            await Promise.race(executing);
        }
    }
    
    await Promise.all(executing);
    return results;
}</code></pre>
                
                <h2>高级特性</h2>
                
                <h3>1. 代理（Proxy）</h3>
                <pre><code>const handler = {
    get(target, property) {
        console.log(`读取属性: ${property}`);
        return target[property];
    },
    set(target, property, value) {
        console.log(`设置属性: ${property} = ${value}`);
        target[property] = value;
        return true;
    }
};

const user = new Proxy({ name: '张三', age: 25 }, handler);
user.name; // 读取属性: name
user.age = 26; // 设置属性: age = 26</code></pre>
                
                <h3>2. 生成器（Generator）</h3>
                <pre><code>function* numberGenerator() {
    yield 1;
    yield 2;
    yield 3;
    return '完成';
}

const gen = numberGenerator();
console.log(gen.next().value); // 1
console.log(gen.next().value); // 2
console.log(gen.next().value); // 3
console.log(gen.next().value); // 完成

// 异步生成器
async function* asyncGenerator() {
    yield await fetchData1();
    yield await fetchData2();
    yield await fetchData3();
}

for await (const data of asyncGenerator()) {
    console.log(data);
}</code></pre>
                
                <h3>3. Map和Set</h3>
                <pre><code>// Map
const map = new Map();
map.set('name', '张三');
map.set('age', 25);
map.set('city', '北京');
console.log(map.get('name')); // 张三
console.log(map.has('age')); // true
console.log(map.size); // 3

// Set
const set = new Set([1, 2, 3, 3, 4]);
set.add(5);
console.log(set.has(3)); // true
console.log(set.size); // 5</code></pre>
                
                <h2>最佳实践</h2>
                
                <h3>1. 代码风格</h3>
                <ul>
                    <li>使用const和let代替var</li>
                    <li>使用箭头函数简化代码</li>
                    <li>使用模板字符串处理字符串拼接</li>
                    <li>使用解构赋值简化对象和数组操作</li>
                    <li>使用async/await处理异步操作</li>
                </ul>
                
                <h3>2. 错误处理</h3>
                <pre><code>// try-catch
async function safeExecute() {
    try {
        const result = await riskyOperation();
        return result;
    } catch (error) {
        console.error('操作失败:', error);
        return null;
    }
}

// 错误边界
class CustomError extends Error {
    constructor(message, code) {
        super(message);
        this.code = code;
    }
}

try {
    throw new CustomError('自定义错误', 500);
} catch (error) {
    if (error instanceof CustomError) {
        console.error(`错误代码: ${error.code}`);
    }
}</code></pre>
                
                <h3>3. 性能优化</h3>
                <ul>
                    <li>使用防抖和节流优化高频事件</li>
                    <li>使用requestAnimationFrame优化动画</li>
                    <li>使用Web Worker处理CPU密集型任务</li>
                    <li>使用懒加载优化资源加载</li>
                    <li>避免不必要的DOM操作</li>
                </ul>
                
                <h2>总结</h2>
                <p>JavaScript是现代Web开发的核心语言，掌握JavaScript的核心概念和ES6+特性对于前端开发者至关重要。通过合理使用现代JavaScript特性，我们可以编写出更简洁、更高效、更易维护的代码。</p>
                <p>在实际开发中，要注重代码的可读性、性能优化和错误处理，为用户提供更好的体验。</p>
            </div>
        </article>
    </main>
    <footer class="footer">
        <div class="footer__container">
            <div class="footer__content">
                <div class="footer__logo"><span class="nav__logo-text">刀仔的学习网站</span></div>
                <p class="footer__text">记录生活 · 分享技术 · 持续成长</p>
            </div>
            <div class="footer__bottom"><p class="footer__copyright">© 2024 陈刀仔. 保留所有权利.</p></div>
        </div>
    </footer>
    <script src="main.js"></script>
</body>
</html>